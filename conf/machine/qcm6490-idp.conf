#@TYPE: Machine
#@NAME: Qualcomm QCM6490 Integrated Development Platform
#@DESCRIPTION: Machine configuration for the Integrated Development Platform, with Qualcomm QCM6490

require conf/machine/include/qcom-qcs6490.inc

MACHINE_FEATURES += "efi pci"

KERNEL_DEVICETREE ?= " \
                      qcom/qcm6490-idp.dtb \
                      "

MACHINE_ESSENTIAL_EXTRA_RRECOMMENDS += " \
    packagegroup-rb3gen2-firmware \
    packagegroup-rb3gen2-hexagon-dsp-binaries \
    qairt-sdk-hexagon-v68 \
    qcom-fastcv-binaries-thundercomm-rb3gen2-dsp \
"

QCOM_BOOT_FILES_SUBDIR = "qcm6490"

QCOM_BOOT_FIRMWARE = "firmware-qcom-boot-qcs6490"
QCOM_PARTITION_FILES_SUBDIR ?= "partitions/qcm6490-idp/ufs"

KERNEL_CMDLINE_EXTRA .= "${@oe.utils.conditional('PREFERRED_PROVIDER_virtual/kernel',\
    'linux-qcom-rt',\
    ' rcupdate.rcu_expedited=1 rcu_nocbs=7 isolcpus=7 irqaffinity=0-6 cpuidle.off=1',\
    '', d)}"
