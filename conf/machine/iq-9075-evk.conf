#@TYPE: Machine
#@NAME: Qualcomm IQ-9075 Evaluation Kit (EVK) based on QCS9075
#@DESCRIPTION: Machine configuration for Qualcomm IQ-9075 Evaluation Kit (EVK)

require conf/machine/include/qcom-qcs9100.inc

MACHINE_FEATURES += "efi pci"

KERNEL_DEVICETREE ?= " \
                      qcom/lemans-evk.dtb \
                      qcom/lemans-evk-camera-csi1-imx577.dtbo \
                      "

# These DTs are not upstreamed and currently exist only in linux-qcom kernels
LINUX_QCOM_KERNEL_DEVICETREE ?= " \
                      qcom/lemans-evk-camx.dtbo \
                      "

MACHINE_ESSENTIAL_EXTRA_RRECOMMENDS += " \
    packagegroup-iq-9075-evk-firmware \
    packagegroup-iq-9075-evk-hexagon-dsp-binaries \
    qairt-sdk-hexagon-v73 \
    qcom-fastcv-binaries-sa8775p-ride-dsp \
"

QCOM_CDT_FILE = "cdt_rb8_core_kit"
QCOM_BOOT_FILES_SUBDIR = "qcs9100"
QCOM_PARTITION_FILES_SUBDIR ?= "partitions/iq-9075-evk/ufs"

QCOM_BOOT_FIRMWARE = "firmware-qcom-boot-qcs9100"

KERNEL_CMDLINE_EXTRA .= "${@oe.utils.conditional('PREFERRED_PROVIDER_virtual/kernel',\
   ' linux-qcom-rt',\
   ' rcupdate.rcu_expedited=1 rcu_nocbs=7 isolcpus=7 irqaffinity=0-6 cpuidle.off=1',\
   '', d)}"

